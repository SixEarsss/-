# http学习笔记：

### 1.基本概念：

HTTP 是[超文本传输协议](https://zhida.zhihu.com/search?content_id=113021731&content_type=Article&match_order=1&q=超文本传输协议&zhida_source=entity)，也就是HyperText Transfer Protocol。

**HTTP 是一个在计算机世界里专门在「两点」之间「传输」文字、图片、音频、视频等「超文本」数据的「约定和规范」。**

### 2.五大类http状态码：

![img](https://pic3.zhimg.com/v2-6e7f7b4c7dab1c7924f598e33ddf9c0e_1440w.jpg)

**1xx**
1xx 类状态码属于提示信息，是协议处理中的一种中间状态，实际用到的比较少。
**2xx**
2xx 类状态码表示服务器成功处理了客户端的请求，也是我们最愿意看到的状态。
「200 OK」是最常见的成功状态码，表示一切正常。如果是非 HEAD 请求，服务器返回的响应头都会有 body 数据。
「204 No Content」也是常见的成功状态码，与 200 OK 基本相同，但响应头没有 body 数据。
「206 Partial Content」是应用于 HTTP 分块下载或断电续传，表示响应返回的 body 数据并不是资源的全部，而是其中的一部分，也是服务器处理成功的状态。
**3xx**
3xx 类状态码表示客户端请求的资源发送了变动，需要客户端用新的 URL 重新发送请求获取资源，也就是重定向。
「301 Moved Permanently」表示永久重定向，说明请求的资源已经不存在了，需改用新的 URL 再次访问。
「302 Moved Permanently」表示临时重定向，说明请求的资源还在，但暂时需要用另一个 URL 来访问。
301 和 302 都会在响应头里使用字段 Location，指明后续要跳转的 URL，浏览器会自动重定向新的 URL。
「304 Not Modified」不具有跳转的含义，表示资源未修改，重定向已存在的缓冲文件，也称缓存重定向，用于缓存控制。
**4xx**
4xx 类状态码表示客户端发送的报文有误，服务器无法处理，也就是错误码的含义。
「400 Bad Request」表示客户端请求的报文有错误，但只是个笼统的错误。
「403 Forbidden」表示服务器禁止访问资源，并不是客户端的请求出错。
「404 Not Found」表示请求的资源在服务器上不存在或未找到，所以无法提供给客户端。
**5xx**
5xx 类状态码表示客户端请求报文正确，但是服务器处理时内部发生了错误，属于服务器端的错误码。
「500 Internal Server Error」与 400 类型，是个笼统通用的错误码，服务器发生了什么错误，我们并不知道。
「501 Not Implemented」表示客户端请求的功能还不支持，类似“即将开业，敬请期待”的意思。
「502 Bad Gateway」通常是服务器作为网关或代理时返回的错误码，表示服务器自身工作正常，访问后端服务器发生了错误。
「503 Service Unavailable」表示服务器当前很忙，暂时无法响应服务器，类似“网络服务正忙，请稍后重试”的意思。

### 3.常见字段：

##### host：客户端发送请求时，用来指定服务器的域名。

##### **Content-Length 字段**：服务器在返回数据时，会有 Content-Length 字段，表明本次回应的数据长度。

##### **Connection 字段**：Connection 字段最常用于客户端要求服务器使用 TCP 持久连接，以便其他请求复用。

##### **Content-Type 字段**：Content-Type 字段用于服务器回应时，告诉客户端，本次数据是什么格式。

##### **Content-Encoding 字段**：Content-Encoding 字段说明数据的压缩方法。表示服务器返回的数据使用了什么压缩格式。

### 4.Get与Post：

Get 方法的含义是请求从服务器获取资源，这个资源可以是静态的文本、页面、图片视频等。比如，在浏览器中打开一篇文章，浏览器就会发送 GET 请求给服务器，服务器就会返回文章的所有文字及资源。

而POST 方法则是相反操作，它向 URI 指定的资源提交数据，数据就放在报文的 body 里。
比如，在这篇文章底部，敲入了留言后点击「提交」，浏览器就会执行一次 POST 请求，把你的留言文字放进了报文 body 里，然后拼接好 POST 请求头，通过 TCP 协议发送给服务器。

### 5.补充知识：Cookie

Cookie 通过在请求和响应报文中写入 Cookie 信息来控制客户端的状态。
相当于，在客户端第一次请求后，服务器会下发一个装有客户信息的「小贴纸」，后续客户端请求服务器的时候，带上「小贴纸」，服务器就能认得了了。

##### （1）Cookie 的重要属性：

- **Name=Value**
   关键字段，存储键值对，例如 `user=Tom`。
- **Domain**
   指定哪个域名可以访问此 Cookie（如 `.example.com`）。
- **Path**
   指定哪个路径下的页面可以访问 Cookie。
- **Expires / Max-Age**
   控制 Cookie 的过期时间：
  - **会话 Cookie**：浏览器关闭就消失。
  - **持久 Cookie**：到期前一直保留。
- **Secure**
   只允许在 HTTPS 连接时发送。
- **HttpOnly**
   禁止 JavaScript 读取（防止 XSS 攻击窃取）。
- **SameSite**
   控制跨站请求是否附带 Cookie，减少 CSRF 攻击：
  - `Strict`：完全禁止跨站带 Cookie
  - `Lax`：允许安全场景（GET）
  - `None`：允许跨站，但必须 `Secure`

##### （2）Cookie 的常见用途：

- **登录状态维持**（保存 `session_id` 或 `token`）
- **个性化设置**（语言、主题偏好）
- **购物车**（未登录也能保存商品）
- **广告追踪**（跨站追踪用户行为，记录兴趣）